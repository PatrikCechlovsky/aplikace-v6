/* FILE: app/styles/components/DetailForm.css */
/* PURPOSE: Jednotn√Ω layout a vzhled formul√°≈ô≈Ø v DetailView (theme-based)
   - responzivn√≠ grid 1‚Üí2‚Üí3‚Üí4 sloupce
   - theme tokeny
   - span funguje bezpeƒçnƒõ (na mobilu se nerozbije)
*/

/* ===== KONTEJNER CEL√âHO FORMUL√Å≈òE ===== */

.detail-form {
  display: flex;
  flex-direction: column;
  gap: 24px;

  /* ƒçitelnost na ≈°irok√Ωch monitorech */
  max-width: 1400px;
  width: 100%;
  
  /* Formul√°≈ô m√° stejn√© pozad√≠ jako seznamy - respektuje theme */
  /* Pozad√≠ je zaji≈°tƒõno p≈ôes .tile-layout__content */
  background: transparent; /* ≈Ω√°dn√© vlastn√≠ pozad√≠ - respektuje pozad√≠ z TileLayout */
}

/* ===== SEKCE FORMUL√Å≈òE (Profil, √öƒçet, ‚Ä¶) ===== */

.detail-form__section {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: 12px;
  padding: 16px;
}

.detail-form__section-title {
  font-size: 13px; /* V√Ωchoz√≠ hodnota, p≈ôep√≠≈°e se p≈ôes density */
  font-weight: 600;
  margin: 0 0 12px; /* V√Ωchoz√≠ hodnota, p≈ôep√≠≈°e se p≈ôes density */
  color: var(--color-text);
}

/* Density ‚Üí Section title */
.layout.layout--density-compact .detail-form__section-title {
  font-size: 12px;
  margin: 0 0 10px;
}

.layout.layout--density-mini .detail-form__section-title {
  font-size: 11px;
  margin: 0 0 8px;
}

/* ===== MOBILE SPACER (oddƒõlovaƒç mezi checkboxy) ===== */
.mobile-only-spacer {
  display: block; /* Viditeln√© na mobilu */
}

@media (min-width: 640px) {
  .mobile-only-spacer {
    display: none; /* Skryt√© na tabletu a PC */
  }
}

/* ===== GRID POL√ç ===== */
/* Hybridn√≠ p≈ô√≠stup: fixn√≠ na desktopu, responzivn√≠ na mobilu */

/* Mobil: 1 sloupec (v≈°e pod sebou) */
.detail-form__grid {
  display: grid;
  gap: 12px 16px; /* V√Ωchoz√≠ hodnota, p≈ôep√≠≈°e se p≈ôes density */
  grid-template-columns: 1fr;
}

/* Tablet: 2 sloupce (responzivn√≠) */
@media (min-width: 640px) {
  .detail-form__grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

/* Desktop: fixn√≠ 3 sloupce (pole se nep≈ôesouvaj√≠) */
@media (min-width: 980px) {
  .detail-form__grid {
    grid-template-columns: 120px 280px 280px; /* Fixn√≠ ≈°√≠≈ôky: Titul | Jm√©no | P≈ô√≠jmen√≠ */
    gap: 12px 20px; /* Vƒõt≈°√≠ mezery pro lep≈°√≠ ƒçitelnost */
  }
  
  /* Pokud je pole oznaƒçeno jako span-2 nebo span-3, rozt√°hne se */
  .detail-form__field--span-2 {
    grid-column: span 2;
  }
  
  .detail-form__field--span-3 {
    grid-column: span 3;
  }
}

/* √özk√° varianta ‚Äì pro formul√°≈ôe s jednosloupcov√Ωmi poli (nap≈ô. pozv√°nka) */
.detail-form__grid--narrow {
  grid-template-columns: 1fr;
  max-width: 100%; /* Na mobilu pln√° ≈°√≠≈ôka */
  margin-bottom: 0; /* ≈Ω√°dn√Ω margin, mezery ≈ôe≈°√≠ spacery */
  gap: 6px 16px; /* Mal√° mezera (6px) uvnit≈ô dvojice checkbox≈Ø na mobilu */
}

/* Tablet: 2 sloupce */
@media (min-width: 640px) {
  .detail-form__grid--narrow {
    grid-template-columns: repeat(2, minmax(0, 1fr));
    max-width: 100%;
    margin-bottom: 0;
    gap: 12px 16px;
  }
}

/* Desktop: fixn√≠ 2 sloupce s fixn√≠ ≈°√≠≈ôkou 280px (kompaktn√≠ formul√°≈ô) */
@media (min-width: 980px) {
  .detail-form__grid--narrow {
    grid-template-columns: 280px 280px; /* Fixn√≠ 280px na sloupec */
    max-width: 600px; /* Max ≈°√≠≈ôka cel√©ho gridu (280px + gap + 280px) */
    gap: 12px 20px;
  }
  
  /* V √∫zk√©m gridu pole s span-2 zaberou oba sloupce (280px + gap + 280px) */
  .detail-form__grid--narrow .detail-form__field--span-2 {
    grid-column: span 2; /* P≈ôes oba sloupce = 280px + 20px gap + 280px = 580px */
  }
  
  .detail-form__grid--narrow .detail-form__field--span-4 {
    grid-column: span 2; /* P≈ôes oba sloupce */
  }
}

/* ===== POLE ===== */

.detail-form__field {
  display: flex;
  flex-direction: column;
  gap: 4px;
  min-width: 0; /* aby se dlouh√© texty nerozb√≠jely */
}

.detail-form__label {
  font-size: 12px;
  font-weight: 500;
  color: var(--color-text-muted);
}

/* Povinn√© pole oznaƒçujeme hvƒõzdiƒçkou "*" */
.detail-form__required {
  color: var(--color-danger-text);
  margin-left: 4px;
  font-weight: 700;
}

/* Chybov√© hl√°≈°en√≠ pod polem */
.detail-form__error {
  font-size: 11px;
  color: var(--color-danger-text);
  margin-top: 4px;
}

.detail-form__input {
  font-size: 13px; /* V√Ωchoz√≠ hodnota, p≈ôep√≠≈°e se p≈ôes density */
  padding: 9px 11px; /* V√Ωchoz√≠ hodnota, p≈ôep√≠≈°e se p≈ôes density */
  border-radius: 12px;
  border: 1px solid var(--color-border);
  background: var(--color-surface-subtle);
  color: var(--color-text);
  transition: border-color 140ms ease, box-shadow 140ms ease, background 140ms ease;
  width: 100%; /* Responzivn√≠ - na mobilu pln√° ≈°√≠≈ôka */
  box-sizing: border-box;
}

/* P≈ôizp≈Øsoben√≠ ≈°√≠≈ôky podle typu pole */
/* Na desktopu je ≈°√≠≈ôka ≈ô√≠zena gridem, na mobilu/tabletu max-width */
@media (min-width: 640px) and (max-width: 979px) {
  .detail-form__input--short {
    max-width: 120px; /* Titul: cca 10 znak≈Ø */
  }
  
  .detail-form__input--medium {
    max-width: 250px; /* Jm√©no/p≈ô√≠jmen√≠: cca 20-25 znak≈Ø */
  }
}

/* Na desktopu (‚â• 980px) je ≈°√≠≈ôka ≈ô√≠zena fixn√≠m gridem, max-width se ignoruje */
@media (min-width: 980px) {
  .detail-form__input--short,
  .detail-form__input--medium {
    max-width: none; /* Grid ≈ô√≠d√≠ ≈°√≠≈ôku */
    width: 100%; /* Vypln√≠ sloupec gridu */
  }
}

.detail-form__input:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 4px var(--color-primary-soft);
  background: var(--color-surface);
}

.detail-form__input::placeholder {
  color: var(--color-text-muted);
  opacity: 0.75;
}

/* select m√° vypadat jako input (v detailech entit) */
select.detail-form__input {
  appearance: none;
  background-image: linear-gradient(45deg, transparent 50%, var(--color-text-muted) 50%),
    linear-gradient(135deg, var(--color-text-muted) 50%, transparent 50%);
  background-position: calc(100% - 14px) 55%, calc(100% - 9px) 55%;
  background-size: 5px 5px, 5px 5px;
  background-repeat: no-repeat;
  padding-right: 28px;
}

/* readonly / view re≈æim */
.detail-form__input--readonly {
  background: var(--color-surface);
  color: var(--color-text-muted);
  border-color: var(--color-border-soft);
}

/* Jednoduch√Ω hint text pro read-only bloky apod. */
/* Z√°kladn√≠ hint */
.detail-form__hint {
  font-size: 12px;
  line-height: 15px;
  color: var(--color-text-muted);
  min-width: 0; /* d≈Øle≈æit√© ve flex kontejnerech */
}

/* üîí JEDEN ≈ò√ÅDEK ‚Äì bez zalamov√°n√≠ */
.detail-form__hint--single {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* zv√Ωraznƒõn√≠ slova */
.detail-form__hint--single strong {
  font-weight: 600;
  color: var(--color-text);
}

/* ===== ROZTA≈ΩEN√ç POLE (SPAN) ===== */
/* default: na mobilu v≈ædy 1, aby se nic nep≈ôekrylo */
.detail-form__field--span-2,
.detail-form__field--span-3,
.detail-form__field--span-4 {
  grid-column: span 1;
}

/* Tablet: span funguje od 2 sloupc≈Ø */
@media (min-width: 640px) {
  .detail-form__field--span-2 {
    grid-column: span 2;
  }
}

/* Desktop: span funguje v fixn√≠m gridu */
@media (min-width: 980px) {
  .detail-form__field--span-2 {
    grid-column: span 2;
  }
  
  .detail-form__field--span-3 {
    grid-column: span 3;
  }
  
  /* span-4 se chov√° jako span-3 v 3-sloupcov√©m gridu */
  .detail-form__field--span-4 {
    grid-column: span 3;
  }
}
/* =========================================================
   Density ‚Üí Detail form (SAFE: font-size + v√Ω≈°ka input≈Ø + gap + padding)
   ========================================================= */

/* Pohodln√° (v√Ωchoz√≠) - pou≈æ√≠v√° CSS promƒõnn√© z DensityTypography */
.layout.layout--density-comfortable .detail-form {
  gap: 24px;
}

.layout.layout--density-comfortable .detail-form__section {
  padding: 16px;
}

.layout.layout--density-comfortable .detail-form__label {
  font-size: var(--table-header-font, 13px); /* Stejn√Ω jako hlaviƒçky v tabulk√°ch */
}

.layout.layout--density-comfortable .detail-form__input,
.layout.layout--density-comfortable .detail-form__select,
.layout.layout--density-comfortable .detail-form__textarea {
  font-size: var(--table-font, 16px); /* Stejn√Ω jako bu≈àky v tabulk√°ch */
  min-height: 36px; /* O 4px men≈°√≠ ne≈æ tabulky pro kompaktnƒõj≈°√≠ vzhled */
  padding: 8px 11px; /* M√≠rnƒõ men≈°√≠ vertik√°ln√≠ padding */
}

.layout.layout--density-comfortable .detail-form__grid {
  gap: 12px 16px;
}

/* Desktop: vƒõt≈°√≠ gap pro fixn√≠ grid */
@media (min-width: 980px) {
  .layout.layout--density-comfortable .detail-form__grid {
    gap: 12px 20px;
  }
}

/* Kompaktn√≠ - pou≈æ√≠v√° CSS promƒõnn√© z DensityTypography */
.layout.layout--density-compact .detail-form {
  gap: 20px;
}

.layout.layout--density-compact .detail-form__section {
  padding: 14px;
}

.layout.layout--density-compact .detail-form__label {
  font-size: var(--table-header-font, 12.5px); /* Stejn√Ω jako hlaviƒçky v tabulk√°ch */
}

.layout.layout--density-compact .detail-form__input,
.layout.layout--density-compact .detail-form__select,
.layout.layout--density-compact .detail-form__textarea {
  font-size: var(--table-font, 13.5px); /* Stejn√Ω jako bu≈àky v tabulk√°ch */
  min-height: 30px; /* O 4px men≈°√≠ ne≈æ tabulky pro kompaktnƒõj≈°√≠ vzhled */
  padding: 6px 10px; /* M√≠rnƒõ men≈°√≠ vertik√°ln√≠ padding */
}

.layout.layout--density-compact .detail-form__grid {
  gap: 10px 14px;
}

/* Desktop: vƒõt≈°√≠ gap pro fixn√≠ grid */
@media (min-width: 980px) {
  .layout.layout--density-compact .detail-form__grid {
    gap: 10px 18px;
  }
}

/* Mini - pou≈æ√≠v√° CSS promƒõnn√© z DensityTypography */
.layout.layout--density-mini .detail-form {
  gap: 16px;
}

.layout.layout--density-mini .detail-form__section {
  padding: 12px;
}

.layout.layout--density-mini .detail-form__label {
  font-size: var(--table-header-font, 11px); /* Stejn√Ω jako hlaviƒçky v tabulk√°ch */
}

.layout.layout--density-mini .detail-form__input,
.layout.layout--density-mini .detail-form__select,
.layout.layout--density-mini .detail-form__textarea {
  font-size: var(--table-font, 12px); /* Stejn√Ω jako bu≈àky v tabulk√°ch */
  min-height: 24px; /* O 4px men≈°√≠ ne≈æ tabulky pro kompaktnƒõj≈°√≠ vzhled */
  padding: 5px 9px; /* M√≠rnƒõ men≈°√≠ vertik√°ln√≠ padding */
}

.layout.layout--density-mini .detail-form__grid {
  gap: 8px 12px;
}

/* Desktop: vƒõt≈°√≠ gap pro fixn√≠ grid */
@media (min-width: 980px) {
  .layout.layout--density-mini .detail-form__grid {
    gap: 8px 16px;
  }
}

/* span d√°v√° smysl a≈æ od 2 sloupc≈Ø */
@media (min-width: 640px) {
  .detail-form__field--span-2 {
    grid-column: span 2;
  }
}

/* span 3 a≈æ od 3 sloupc≈Ø */
@media (min-width: 980px) {
  .detail-form__field--span-3 {
    grid-column: span 3;
  }
}

/* span 4 a≈æ od 4 sloupc≈Ø */
@media (min-width: 1280px) {
  .detail-form__field--span-4 {
    grid-column: span 4;
  }
}
/* =========================================================
   Density ‚Üí Invite "Re≈æim" radio row (SAFE)
   - c√≠l√≠me jen na radio skupinu uvnit≈ô .detail-form__field
   ========================================================= */

/* Kompaktn√≠ */
.layout.layout--density-compact .detail-form__field label.detail-form__label + div {
  gap: 10px !important;
  padding-top: 6px !important;
}

.layout.layout--density-compact .detail-form__field label.detail-form__label + div label {
  font-size: 13px;
}

/* Mini */
.layout.layout--density-mini .detail-form__field label.detail-form__label + div {
  gap: 8px !important;
  padding-top: 4px !important;
}

.layout.layout--density-mini .detail-form__field label.detail-form__label + div label {
  font-size: 12px;
}
